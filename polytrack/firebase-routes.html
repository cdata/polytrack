<script>
(function() {
  'use strict';

  function FirebaseRoutes(firebaseName) {
    this.firebaseName = firebaseName;
    this.dev = /^http:\/\/localhost/.test(window.location.toString());
  }

  FirebaseRoutes.prototype = {
    get version() {
      return 'v1' + (this.dev ? '-dev' : '');
    },

    get host() {
      return 'https://' + this.firebaseName + '.firebaseio.com/' + this.version;
    },

    workspaceLocation: function(userId) {
      return this.host + '/workspaces/' + userId;
    },

    storiesLocation: function() {
      return this.host + '/stories';
    },

    storyLocation: function(storyId) {
      return this.storiesLocation() + '/' + storyId;
    },

    cardsLocation: function() {
      return this.host + '/cards';
    },

    cardLocation: function(cardId) {
      return this.cardsLocation() + '/' + cardId;
    },

    columnsLocation: function() {
      return this.host + '/columns';
    },

    columnLocation: function(columnId) {
      return this.columnsLocation() + '/' + columnId;
    },

    columnCardsLocation: function(columnId) {
      return this.columnLocation(columnId) + '/cards';
    },

    workspaceColumnsLocation: function(userId) {
      return this.workspaceLocation(userId) + '/columns';
    },

    columnCardsLocation: function(columnId) {
      return this.columnLocation(columnId) + '/cards';
    }
  };

  window.FirebaseRoutes = FirebaseRoutes;
})();
</script>
